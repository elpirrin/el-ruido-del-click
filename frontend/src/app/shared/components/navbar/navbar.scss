#menu-toggle { display: none; }

/* ICONO MÓVIL */
.menu-icon {
  display: none;
  position: fixed;
  top: 14px;
  right: 16px;
  z-index: 1200;
  cursor: pointer;

  i { font-size: 32px; color: var(--text-primary); }
}

/* NAVBAR */
ul.menu {
  list-style: none;
  margin: 0;
  padding: 0 12px;
  display: flex;
  align-items: center;
  justify-content: space-around;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  height: 64px;
  background-color: var(--bg-navbar);
  box-shadow: 0 2px 6px rgba(0,0,0,0.12);
  font-family: var(--font-base);
  z-index: 1000;
}

ul.menu > li { position: relative; }

ul.menu > li > a {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 0 18px;
  height: 64px;
  color: var(--text-primary);
  text-decoration: none;
  font-weight: 500;
  border-radius: 6px;
  transition: background-color 0.18s, color 0.18s;
  cursor: pointer;
}

ul.menu > li > a.active {
  background-color: var(--action-primary-bg);
  color: var(--text-inverse);
}

ul.menu i.material-icons { font-size: 20px; color: inherit; transition: color 0.18s; }

/* LOGO */
ul.menu > li > a.logo { padding: 0 12px; }
ul.menu > li > a.logo img { height: 42px; width: auto; object-fit: contain; }

/* SUBMENÚS */
ul.menu li.submenu ul.submenu-items {
  display: block;
  position: absolute;
  top: 64px;
  left: 0;
  background-color: var(--bg-submenu);
  border-radius: 8px;
  box-shadow: 0 8px 20px rgba(0,0,0,0.12);
  min-width: 220px;
  list-style: none;
  padding: 6px 0;
  margin: 0;
  z-index: 1100;
}

ul.menu li.submenu ul.submenu-items li a {
  display: block;
  padding: 10px 18px;
  color: var(--text-primary);
  text-decoration: none;
  border-radius: 6px;
  transition: background-color 0.18s, color 0.18s;
  cursor: pointer;
}

ul.menu li.submenu ul.submenu-items li a:hover {
  background-color: var(--bg-hover);
  color: var(--text-primary);
}

/* Submenú items */
ul.menu li.submenu ul.submenu-items li a {
  display: block;
  padding: 10px 18px;
  color: var(--text-primary);
  text-decoration: none;
  border-radius: 6px;
  transition: background-color 0.18s, color 0.18s;
  cursor: pointer;
  background-color: var(--gray-300);
}

/* Hover / focus: gris más oscuro */
ul.menu li.submenu ul.submenu-items li a:hover,
ul.menu li.submenu ul.submenu-items li a:focus {
  background-color: var(--color-primary);
  color: var(--text-primary);
}

/* Activo en submenú */
ul.menu li.submenu ul.submenu-items li a.active {
  background-color: var(--gray-400);
  color: var(--text-primary);
}



/* Contenedor de búsqueda */
.search-item {
  position: relative; /* necesario para el icono absoluto */
  display: flex;
  align-items: center;
  width: 25%; /* ahora ocupa solo 25% del contenedor */
  min-width: 150px; /* opcional: evitar que quede muy pequeña en móviles */
  padding: 8px 16px;
}

/* Input */
.search-bar {
  width: 100%; /* ocupa todo el ancho del contenedor */
  padding: 8px 40px 8px 16px; /* espacio a la derecha para el icono */
  border-radius: 8px;
  border: 1px solid var(--gray-700);
  outline: none;
  font-size: 16px;
  background-color: var(--gray-50);
  transition: all 0.25s ease;

  &:focus {
    border-color: var(--color-primary);
    box-shadow: 0 0 6px rgba(30, 136, 229, 0.3);
    background-color: #fff;
  }
}

/* Contenedor del icono */
.search-icon {
  position: absolute;
  right: 16px;
  top: 50%;
  transform: translateY(-50%);
  width: 45px;
  height: 35px;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

/* Icono */
.search-icon i.material-icons {
  font-size: 20px;
  color: var(--gray-700);
  transition: transform 0.25s ease, color 0.25s ease;
}

/* Hover solo cuando el cursor está sobre el icono */
.search-icon:hover i.material-icons {
  transform: scale(1.2);
  color: var(--color-primary);
}

/* Hover solo para escritorio */
@media (min-width: 901px) {
  /* Hover para enlaces principales del menú (excepto logo) */
  ul.menu > li > a:not(.logo) {
    transition: background-color 0.25s ease, color 0.25s ease, transform 0.18s ease;
  }

  ul.menu > li > a:not(.logo):hover {
    background-color: var(--action-primary-bg-hover); /* azul más oscuro */
    color: var(--text-inverse); /* texto blanco */
    transform: translateY(-2px); /* leve elevación */
  }

  /* Hover para submenús */
  ul.menu li.submenu ul.submenu-items li a {
    transition: background-color 0.25s ease, color 0.25s ease, transform 0.18s ease;
  }

  ul.menu li.submenu ul.submenu-items li a:hover {
    background-color: var(--action-primary-bg-hover);
    color: var(--text-inverse);
    transform: translateX(4px);
  }

  /* Hover en iconos dentro de los enlaces */
  ul.menu > li > a i.material-icons {
    transition: transform 0.25s ease, color 0.25s ease;
  }

  ul.menu > li > a:hover i.material-icons {
    transform: scale(1.2);
    color: var(--text-inverse);
  }

  /* Hover específico solo para logo: solo scale */
  ul.menu > li > a.logo:hover {
    transform: scale(1.05); /* pequeño zoom */
  }

  ul.menu > li > a.logo:hover img {
    transform: scale(1.05); /* zoom de la imagen del logo */
    transition: transform 0.25s ease;
  }
}

/* RESPONSIVE: móvil */
@media (max-width: 900px) {
  .menu-icon { display: block; }

  ul.menu {
    justify-content: flex-start;
    padding: 0 12px;
    height: 64px;
  }

  /* Ocultar items excepto logo por defecto */
  ul.menu > li:not(:first-child) { display: none; }

  /* Menu abierto */
  #menu-toggle:checked + .menu-icon + ul.menu {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    height: 100vh;
    width: 260px;
    padding-top: 64px;
    background-color: var(--bg-navbar);
    box-shadow: 0 8px 32px rgba(0,0,0,0.18);
    overflow: auto;
  }

  #menu-toggle:checked + .menu-icon + ul.menu > li { display: block; width: 100%; }

  /* Enlaces full width */
  ul.menu > li > a {
    width: 100%;
    height: 56px;
    padding: 0 16px;
    border-bottom: 1px solid var(--border-default);
    cursor: pointer; /* pointer */
  }

  /* Submenús */
  ul.menu li.submenu ul.submenu-items {
    position: static;
    display: block; /* Angular controla visibilidad con *ngIf */
    width: 100%;
    box-shadow: none;
    border-radius: 0;
    background-color: var(--bg-submenu); /* gris base */
  }

  ul.menu li.submenu ul.submenu-items li a {
    padding-left: 32px;
    background-color: var(--bg-submenu);
    transition: background-color 0.18s;
    cursor: pointer; /* pointer */
  }

  /* Hover / focus móvil (aplica gris más oscuro al pasar o seleccionar) */
  ul.menu li.submenu ul.submenu-items li a:hover,
  ul.menu li.submenu ul.submenu-items li a:focus {
    background-color: var(--gray-300); /* gris más oscuro */
  }

  /* Activo submenú móvil */
  ul.menu li.submenu ul.submenu-items li a.active {
    background-color: var(--gray-400); /* gris aún más oscuro */
  }

  .search-item {
    width: 100%;
    padding: 8px 16px;
  }

  .search-bar {
    font-size: 16px;
    padding: 8px 40px 8px 16px;
  }
}